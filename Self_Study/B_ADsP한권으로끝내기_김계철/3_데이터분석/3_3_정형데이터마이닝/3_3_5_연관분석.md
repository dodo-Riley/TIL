# 3.3.5. 연관분석

## 1) 연관규칙

- 연관규칙(association rule)의 개념
    - 항목들 간의 ‘조건-결과’식으로 표현되는 유용한 패턴
    - 이러한 패턴을 발견해내는 것을 연관분석이라하며, 흔히 장바구니 분석이라고도 함
    - 예를 들면, 미국의 마트에서 기저귀를 사는 고객은 맥주를 동시에 구매한다는 연관 규칙이 있음 → 기저귀와 맥주를 인접한 진열대에 위치해 놓으면 매출 증대를 꾀할 수 있음
    
- 연관규칙의 측정 지표
    - 지지도(support)
        - 전체 거래 중 항목 A와 B를 동시에 포함하는 거래의 비율
        - $P(A \cap B)={A와 B가 동시에 포함된 거래수 \over 전체 거래 수}$
        - 지지도는 연관규칙 A→B와 B→A가 같은 값을 갖기 때문에 차이를 알 수 없음
    - 신뢰도(confidence)
        - A 상품을 샀을 때 B 상품을 살 조건부 확률
        - ${P(A \cap B) \over P(A)}={A와 B가 동시에 포함된 거래수 \over A를 포함하는 거래 수}$
    - 향상도(lift)
        - A와 B가 동시에 일어난 횟수/A,B가 독립사건일 때 동시에 일어날 확률
        - ${P(B|A) \over P(B)}$
        - A와 B사이에 아무런 상호 관계가 없으면(독립) 향상도는 1
        - 향상도가 1보다 높아질수록 연관성이 높음
        - 1보다 크면 양의 관계 1보다 작으면 음의 관계
        
- 연관분석의 장단점
    - 장점
        - 조건반응(if-then)으로 표현되는 연관분석의 결과를 이해하기 쉬움
        - 강력한 비목적성 분석 기법
        - 사용이 편리한 데이터 분석
        - 분석 계산이 간편
    - 단점
        - 분석 품목 수가 증가하면 분석 계산이 기하급수적으로 증가
        - 너무 세부화된 품목을 가지고 연관규칙을 찾으려면 의미 없는 분석 결과가 도출
        - 상대적으로 거래량이 적으면 규칙 발견 시 제외되기 쉬움
        
- 순차패턴 분석
    - 연관규칙의 발견은 어떠한 고객의 시간에 따른 구매 정보를 활용하여 이루어지기도 함
    - 순차적 패턴의 발견은 구매 순서를 고려하여 상품 간의 연관성이 측정되고 유용한 연관 규칙을 찾는 기법