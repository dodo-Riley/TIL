# 3. 인구 공공데이터

# 3.1. 우리 동네 인구 구조 시각화하기

```python
import csv
import matplotlib.pyplot as plt

f = open('./data/age.csv')
data = csv.reader(f)
result = []

name = input('원하는 지역명(읍면동 단위)을 입력하세요. :') # 원하는 지역명 입력

for row in data :
    if name in row[0] :  # 찾는 지역명의 행이라면,
        for i in row[3:] :   # 해당 행의 4번째부터 끝까지 요소를 result 리스트에 추가
            result.append(i)
            
for n in range(len(result)) : # 리스트에 추가된 요소는 문자열이므로, 정수형으로 변경
    result[n] = int(result[n].replace(',',''))  # 위의 for문에서 int를 쓰지 않은 이유는 '1,200'과 같은 경우 error 발생때문

plt.rc('font', family = 'Malgun Gothic')
plt.style.use('ggplot')
plt.title(name + ' 인구 현황')
plt.plot(result)
plt.show()
```

![Untitled](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/Untitled.png)

# 3.2. 인구 구조를 다양한 형태로 시각화하기

- 막대그래프
    - `bar()` 사용
    
    ```python
    import csv
    import matplotlib.pyplot as plt
    
    f = open('./data/age.csv')
    data = csv.reader(f)
    result = []
    
    name = input('원하는 지역명(읍면동 단위)을 입력하세요. :') # 원하는 지역명 입력
    
    for row in data :
        if name in row[0] :  # 찾는 지역명의 행이라면,
            for i in row[3:] :   # 해당 행의 4번째부터 끝까지 요소를 result 리스트에 추가
                result.append(i)
                
    for n in range(len(result)) : # 리스트에 추가된 요소는 문자열이므로, 정수형으로 변경
        result[n] = int(result[n].replace(',',''))  # 위의 for문에서 int를 쓰지 않은 이유는 '1,200'과 같은 경우 error 발생때문
    
    plt.rc('font', family = 'Malgun Gothic')
    plt.figure(dpi = 300)
    plt.style.use('ggplot')
    plt.title(name + ' 인구 현황')
    plt.bar(range(101), result)
    plt.show()
    ```
    
    ![Untitled](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/Untitled%201.png)
    
    - `barh()` 사용
        
        ```python
        import csv
        import matplotlib.pyplot as plt
        
        f = open('./data/age.csv')
        data = csv.reader(f)
        result = []
        
        name = input('원하는 지역명(읍면동 단위)을 입력하세요. :') # 원하는 지역명 입력
        
        for row in data :
            if name in row[0] :  # 찾는 지역명의 행이라면,
                for i in row[3:] :   # 해당 행의 4번째부터 끝까지 요소를 result 리스트에 추가
                    result.append(i)
                    
        for n in range(len(result)) : # 리스트에 추가된 요소는 문자열이므로, 정수형으로 변경
            result[n] = int(result[n].replace(',',''))  # 위의 for문에서 int를 쓰지 않은 이유는 '1,200'과 같은 경우 error 발생때문
        
        plt.rc('font', family = 'Malgun Gothic')
        plt.figure(dpi = 300)
        plt.style.use('ggplot')
        plt.title(name + ' 인구 현황')
        plt.barh(range(101), result)
        plt.show()
        ```
        
        ![Untitled](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/Untitled%202.png)
        
    
    - `barh()`를 사용해 항아리 모양의 그래프 그리기
        
        ```python
        import csv
        import matplotlib.pyplot as plt
        
        f = open('./data/gender.csv')
        data = csv.reader(f)
        
        m = []
        f = []
        
        name = input('원하는 지역명(읍면동 단위)을 입력하세요. :')
        
        for row in data :
            if name in row[0] :
                for i in range(101) :
                    m.append(-int(row[i+3]))
                    f.append(int(row[-(i+1)]))
        f.reverse()  # 여성의 경우, 가장 뒤에서부터 차례로 넣었으므로 다시 역순으로 변경
        
        plt.rc('font', family = 'Malgun Gothic')
        plt.rcParams['axes.unicode_minus'] = False
        plt.style.use('ggplot')
        plt.figure(figsize = (10,5), dpi = 300)
        plt.title(name + ' 성별 인구 현황')
        plt.barh(range(101), m, label = '남성')
        plt.barh(range(101), f, label = '여성')
        plt.legend
        plt.show()
        ```
        
        ![Untitled](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/Untitled%203.png)
        
    

> 사용한 파일
> 

[age.csv](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/age.csv)

[gender.csv](3%20%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%80%E1%85%AE%20%E1%84%80%E1%85%A9%E1%86%BC%E1%84%80%E1%85%A9%E1%86%BC%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5%20d4423768607744f2ae49c75bce3502f5/gender.csv)